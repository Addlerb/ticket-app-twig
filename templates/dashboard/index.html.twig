{% extends 'base.html.twig' %}

{% block body %}
  <div style="text-align: center; padding: 50px; background-color: #f0f0f0; min-height: 100vh;">
    <h1>{{ message }}</h1>
    <h2>Your Tickets</h2>
    <table style="width: 80%; margin: 20px auto; border-collapse: collapse;">
      <thead>
        <tr style="background-color: #4facfe; color: white;">
          <th style="padding: 10px; border: 1px solid #ddd;">ID</th>
          <th style="padding: 10px; border: 1px solid #ddd;">Title</th>
          <th style="padding: 10px; border: 1px solid #ddd;">Description</th>
          <th style="padding: 10px; border: 1px solid #ddd;">Status</th>
        </tr>
      </thead>
      <tbody>
        {% for ticket in tickets %}
          <tr style="background-color: #fff;">
            <td style="padding: 10px; border: 1px solid #ddd;">{{ ticket.id }}</td>
            <td style="padding: 10px; border: 1px solid #ddd;">{{ ticket.title }}</td>
            <td style="padding: 10px; border: 1px solid #ddd;">{{ ticket.description }}</td>
            <td style="padding: 10px; border: 1px solid #ddd;">{{ ticket.status }}</td>
          </tr>
        {% else %}
          <tr>
            <td colspan="4" style="padding: 10px; border: 1px solid #ddd;">No tickets available.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>

    <h2>Create New Ticket</h2>
    <form method="post" style="max-width: 400px; margin: 20px auto; display: flex; flex-direction: column; gap: 10px;">
      <input type="text" name="title" placeholder="Ticket Title" style="padding: 10px; border: 1px solid #ddd; border-radius: 5px;" required>
      <textarea name="description" placeholder="Ticket Description" style="padding: 10px; border: 1px solid #ddd; border-radius: 5px; min-height: 100px;" required></textarea>
      <button type="submit" style="padding: 10px; background-color: #2ecc71; color: white; border: none; border-radius: 5px; cursor: pointer;">Submit Ticket</button>
    </form>

    <a href="{{ path('logout') }}" style="color: #d9534f; text-decoration: none;">Logout</a>
  </div>
{% endblock %}